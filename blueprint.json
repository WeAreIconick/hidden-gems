{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/wp-admin/plugin-install.php?tab=hidden-gems",
  "preferredVersions": {
    "php": "8.3",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "steps": [
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "url",
        "url": "https://github.com/WeAreIconick/hidden-gems/archive/refs/heads/main.zip"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "runPHP",
      "code": "<?php\nrequire_once '/wordpress/wp-load.php';\n\n// Activate the plugin if it wasn't activated automatically\n$plugin_file = 'hidden-gems-main/hidden-gems.php';\nif (file_exists(WP_PLUGIN_DIR . '/' . $plugin_file) && !is_plugin_active($plugin_file)) {\n    activate_plugin($plugin_file);\n}\n\n// Set some WordPress options for better experience\nupdate_option('blogname', 'Hidden Gems Demo');\nupdate_option('blogdescription', 'Discover high-quality WordPress plugins that haven\\'t been widely adopted yet');\nupdate_option('admin_email', 'admin@example.com');\nupdate_option('home', 'https://playground.wordpress.net');\nupdate_option('siteurl', 'https://playground.wordpress.net');\n\n// Flush rewrite rules\nflush_rewrite_rules();\n\n// Log success\nerror_log('Hidden Gems: Plugin activated successfully');\n?>"
    }
  ]
}